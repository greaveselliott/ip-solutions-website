!function(e){window.csPLUGIN||(window.csPLUGIN={}),csPLUGIN.SLIDESHOW={init:function(){this.cs.num>1&&(this.is.hoverAction=0,this.focus(),this.M.scroll.setup(),this.hover(),this.o.slideshow.isPlayPause&&this.toggle(),this.is.stop=0,this.go())},go:function(){var e=this,s=e.is;s.stop||(s.pauseActive?e.pause():!s.focus||!s.into||s.hover||e.va.nVideoOpen||e.va.nMapOpen||!e.o.slideshow.isHoverPause&&s.fxRun?s.playing&&e.pause():s.fxRun||(s.hoverAction?e.reset():e.play()))},update:function(){var s=this.oo,i=this.o,o=this.va,t=this.is,a=this.ti,n=e.extend({},csPLUGIN.TIMER,this),r=s.slideshow,c=i.slideshow;if(r.timer!=c.timer&&(clearInterval(a.timer),this.RENDER.timer(),!!o.tTimer0&&this.pause(),this.play()),t.timer&&"arc"==o.timer&&!!csPLUGIN.TIMER&&n.arcProp(),s.isSlideshow!=i.isSlideshow)if(i.isSlideshow)this.init();else{this.pause(1);var u=" focus.code"+o.codekey+" blur.code"+o.codekey+" scroll.code"+o.codekey;e(window).off(u),o.$cs.off("mouseenter.code mouseleave.code")}r.isHoverPause!=c.isHoverPause&&this.hover()},play:function(){var s=this,i=s.va,o=s.is,t=s.ti,a=s.cs,n=s.o,r=e.extend({},csPLUGIN.TIMER,s),c=function(){s.M.tc(t.play),t.play=setTimeout(s.reset,i.speed[a.idCur]+10)};o.playing=1,i.tTimer0=+new Date,o.timer&&!!csPLUGIN.TIMER&&r[i.timer+"Update"](),s.M.tc(t.play),t.play=setTimeout(function(){var e=a.num,o=n.slideshow.isRandom&&e>2,t="dash"==n.layout?s.ds.nEnd:a.idCur,r=o?s.M.raExcept(0,e-1,t):t>=e-1?0:t+1,u=i.$s.eq(r);u.data("is").loaded?(o?s.SLIDETO.run(r,1):n.isLoop||t!=e-1?s.EVENTS.next(1):s.SLIDETO.run(0,1),c()):(u.data({isPlayNext:1}),a.stop())},i.tDelay)},reset:function(){var e=this.va;e.tDelay!=e.delay[this.cs.idCur]&&(e.tDelay=e.delay[this.cs.idCur]),"bar"==e.timer&&100!=e.xTimer?e.xTimer=100:"number"==e.timer&&0!=e.xTimer?e.xTimer=0:"arc"==e.timer&&(e.arc.angCur=0),this.play()},pause:function(s){var i=this,o=i.va,t=i.is,a=i.cs.idCur,n=!!csPLUGIN.TIMER,r=e.extend({},csPLUGIN.TIMER,i);if(t.playing=0,t.hoverAction=0,s)o.tDelay=o.delay[a],n&&r[o.timer+"Setup"];else{var c=o.tDelay;o.tTimer1=+new Date,o.tDelay=o.delay[a]-(o.tTimer1-o.tTimer0),o.delay[a]!=c&&(o.tDelay-=o.delay[a]-c),o.tDelay<0&&(o.tDelay=0,t.hoverAction=1)}t.timer&&n&&r.stop(),i.M.tc(i.ti.play)},focus:function(){var s=this,i=s.is,o=".code"+s.va.codekey;i.focus=1,e(window).on("focus"+o,function(){i.focus||(i.focus=1,s.go())}).on("blur"+o,function(){i.focus&&(i.focus=0,s.go())})},hover:function(){var e=this,s=e.va.$cs;e.o.slideshow.isHoverPause?(e.is.hover=0,s.off("mouseenter.code mouseleave.code").on("mouseenter.code",function(){e.hover1()}).on("mouseleave.code",function(){e.hover0()})):s.off("mouseenter.code mouseleave.code")},hover0:function(){this.is.hover=0,this.go()},hover1:function(){this.is.hover=1,this.go()},toggle:function(){var e=this,s=e.o,i=e.va,o=s.ns+s.actived,t=i.ev.click;i.$playpause.off(t),i.$playpause.on(t,function(){return i.$playpause.hasClass(o)?(e.is.pauseActive=0,i.$playpause.removeClass(o)):(e.is.pauseActive=1,i.$playpause.addClass(o)),e.go(),!1})}}}(jQuery);